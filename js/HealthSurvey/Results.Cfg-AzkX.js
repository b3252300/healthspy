import{_ as e,a as t,b as l}from"../face_red/face_red.C9YyNwBE.js";import{a as o}from"../vue-router/vue-router.DzNGWVxd.js";import{L as r}from"../Loading/Loading.Kc0FP4fC.js";import{C as a}from"../Card/Card.Byv3CdPm.js";import{_ as s,F as i}from"../../assets/index-BGBnUB5j.js";import{m as n}from"../vue3-apexcharts/vue3-apexcharts.Bx5xQgx7.js";import{z as u,q as c,v as d,H as p,J as v,G as f,F as m,b as g,D as h,u as x,V as b,M as y,P as w}from"../@vue/@vue.CISUW6gm.js";import"../pinia/pinia.BbQN6uKc.js";import"../js-cookie/js-cookie.BXEMiIsG.js";import"../bootstrap/bootstrap.B479eVIA.js";import"../@popperjs/@popperjs.CDLgd9d9.js";import"../clipboard/clipboard.BDF08mEv.js";import"../vue3-lottie/vue3-lottie.CcJZhO04.js";import"../lottie-web/lottie-web.CrP6allm.js";import"../apexcharts/apexcharts.IwQyrHht.js";const k={class:"bg_HealthSurvey_color"},j={id:"chart",style:{"margin-bottom":"10px","min-height":"350px"}},S={key:0},F={key:1,class:"alert d-flex flex-md-row justify-content-center align-items-center text-bold health-card",role:"alert",style:{"background-color":"#fff8e4",border:"1px solid #ffeeba",color:"#856404"}},_={style:{"font-size":"1.2rem"}},C={key:2,class:"alert d-flex flex-md-row justify-content-center align-items-center text-bold health-card",role:"alert",style:{"background-color":"#e3ffe2",border:"1px solid #b7ebb5",color:"#2e5c2b"}},z={style:{"font-size":"1.2rem"}},I={key:3,class:"alert d-flex flex-md-row justify-content-center align-items-center text-bold health-card",role:"alert",style:{"background-color":"#ffecec",border:"1px solid #f5c6cb",color:"#721c24"}},H={style:{"font-size":"1.2rem"}},A={style:{"line-height":"21px","font-size":"15px","margin-top":"20px"}},E=["innerHTML"],L={key:4,style:{"line-height":"18.8px","font-size":"15px","margin-top":"20px"}},M={key:5,style:{"line-height":"18.8px","font-size":"15px","margin-top":"20px"}},$=s({__name:"Results",setup(s){const $=o(),D=g(!1),T=g(!1),N=g(""),O=g(null),R=g(!1),W=g(null),J=g([0,0,0,0,0]),Q=g([1,1,1,1,1]),q=g(""),G=g(0),K=g(null),P=g({chart:{type:"polarArea",toolbar:{show:!1}},stroke:{colors:["#fff"]},fill:{opacity:.9},colors:[function({value:e,seriesIndex:t,w:l}){if(Q.value&&Q.value.length>t){let e=Q.value[t];if(1==e)return"#E44F4F";if(2==e)return"#F2AC1F";if(3==e)return"#4FCA61"}return"#E6E6E6"}],dataLabels:{enabled:!0,style:{fontSize:"14px",fontWeight:"bold",colors:["#333"]},formatter:function(e,{seriesIndex:t,w:l}){return l.config.labels[t]+": "+e}},labels:["能量系統","心血管系統","消化系統","免疫系統","心理系統"],legend:{show:!0,position:"bottom"},yaxis:{show:!1,min:0,max:5},tooltip:{enabled:!0,y:{formatter:function(e){return e+" 分"}}},plotOptions:{polarArea:{rings:{strokeWidth:1,strokeColor:"#e8e8e8"},spokes:{strokeWidth:1,connectorColors:"#e8e8e8"}}}});function V(e){T.value=e}const Y=()=>{const e=sessionStorage.getItem("SurveyResult");if(!e)return D.value=!0,N.value="查無檢測資料，請重新填寫",T.value=!0,void setTimeout(()=>$.push({name:"HealthSurveyQuestionnaire"}),2e3);const t=JSON.parse(e).answers;if(!t)return;const l=(e,l)=>{let o=t[e]?parseInt(t[e]):0,r=t[l]?parseInt(t[l]):0;return parseFloat(((o+r)/2).toFixed(1))},o=l(0,3),r=l(1,5),a=l(2,7),s=l(4,9),i=l(6,8);J.value=[o,r,a,s,i];const n=e=>e>=4?3:e>=3?2:1;Q.value=J.value.map(e=>n(e));const u=(o+r+a+s+i)/5;G.value=Math.round(20*u),G.value>=80?K.value=3:G.value>=60?K.value=2:K.value=1;let c=[];n(o)<3&&c.push("能量系統"),n(r)<3&&c.push("心血管系統"),n(a)<3&&c.push("消化系統"),n(i)<3&&c.push("心理系統"),n(s)<3&&c.push("免疫系統"),3===K.value?q.value="您的身體狀況運作良好，各大系統功能平衡，請繼續保持健康的生活習慣！":q.value=`檢測顯示您的<b>${c.join("、")}</b>指數稍低。建議您調整作息與飲食，並適度補充相關營養素。`,W.value=(()=>{const e=new Date;return`${e.getFullYear()}-${(e.getMonth()+1).toString().padStart(2,"0")}-${e.getDate().toString().padStart(2,"0")} ${e.getHours().toString().padStart(2,"0")}:${e.getMinutes().toString().padStart(2,"0")}`})(),R.value=!0,D.value=!0},B=()=>{$.push({name:"HealthSurveyQuestionnaire"})};return u(()=>{setTimeout(()=>{Y()},500)}),(o,s)=>(c(),d(m,null,[p(r,{IsShow:D.value},null,8,["IsShow"]),p(i,{ref_key:"Failedref",ref:O,IsShow:T.value,Content:N.value,onClose:V},null,8,["IsShow","Content"]),v("div",k,[p(a,null,{title:f(()=>[...s[0]||(s[0]=[w(" 健康評估結果 ",-1)])]),EvaluateDatetime:f(()=>[w(" 評估時間："+y(W.value),1)]),default:f(()=>[v("div",j,[R.value?(c(),h(x(n),{key:0,ref:"chartRef",type:"polarArea",height:"350",options:P.value,series:J.value},null,8,["options","series"])):b("",!0)]),null==K.value?(c(),d("div",S)):2===K.value?(c(),d("div",F,[s[2]||(s[2]=v("img",{src:e,alt:"亞健康",class:"img_SubHealth",style:{width:"36px",height:"36px","margin-right":"20px"}},null,-1)),v("div",null,[v("span",_,"健康分數 "+y(G.value)+" 分",1),s[1]||(s[1]=v("div",{style:{"font-size":"0.9rem","font-weight":"normal"}},"您的狀態：亞健康，請多加留意",-1))])])):3===K.value?(c(),d("div",C,[s[4]||(s[4]=v("img",{src:t,alt:"健康",class:"img_Health",style:{width:"36px",height:"36px","margin-right":"20px"}},null,-1)),v("div",null,[v("span",z,"健康分數 "+y(G.value)+" 分",1),s[3]||(s[3]=v("div",{style:{"font-size":"0.9rem","font-weight":"normal"}},"您的狀態：良好，請繼續保持",-1))])])):(c(),d("div",I,[s[6]||(s[6]=v("img",{src:l,alt:"需改善",class:"img_Health",style:{width:"36px",height:"36px","margin-right":"20px"}},null,-1)),v("div",null,[v("span",H,"健康分數 "+y(G.value)+" 分",1),s[5]||(s[5]=v("div",{style:{"font-size":"0.9rem","font-weight":"normal"}},"您的狀態：需改善，建議諮詢專家",-1))])])),v("div",A,[v("div",{innerHTML:q.value,style:{"line-height":"21px","margin-bottom":"15px"}},null,8,E),s[7]||(s[7]=v("div",{style:{"font-weight":"bold","margin-bottom":"10px"}},"透過專業雷達圖分析，您可以清楚掌握身體五大系統的功能狀態：",-1)),s[8]||(s[8]=v("div",{class:"pt-3"},[v("div",{class:"d-flex flex-md-row align-items-center text-bold description-card",style:{"background-color":"#e3ffe2",color:"#2e5c2b"}},[v("div",{class:"dot",style:{"background-color":"#4FCA61","margin-right":"10px"}}),w(" 繼續保持良好狀態 (4.0 - 5.0分) ")]),v("div",{class:"d-flex flex-md-row align-items-center text-bold description-card",style:{"background-color":"#fff8e4",color:"#856404"}},[v("div",{class:"dot",style:{"background-color":"#F2AC1F","margin-right":"10px"}}),w(" 需要留意的系統 (3.0 - 3.9分) ")]),v("div",{class:"d-flex flex-md-row align-items-center text-bold description-card",style:{"background-color":"#ffecec",color:"#721c24"}},[v("div",{class:"dot",style:{"background-color":"#E44F4F","margin-right":"10px"}}),w(" 功能較弱的系統 (3.0分以下) ")])],-1))]),3==K.value?(c(),d("div",L,[...s[9]||(s[9]=[v("div",{style:{color:"#008cd6","font-weight":"600"}},"恭喜您！",-1),v("div",null,"您的健康狀況維持得相當不錯，歡迎定期回來檢測以追蹤健康趨勢。",-1)])])):(c(),d("div",M,[...s[10]||(s[10]=[v("div",{style:{color:"#008cd6","font-weight":"600"}},"想知道如何改善亞健康狀態？",-1),v("div",null,"歡迎於LINE@對話框諮詢健康特務，量身打造您的專屬保健方案，讓您重拾活力！",-1)])])),v("div",{class:"d-grid",style:{"margin-top":"20px"}},[v("button",{type:"button",class:"btn btn-spy",onClick:B},"再測一次")])]),_:1})])],64))}},[["__scopeId","data-v-3592b816"]]);export{$ as default};
