import{a as t,_ as e,b as s}from"../face_red/face_red.C9YyNwBE.js";import{a as l}from"../vue-router/vue-router.B-TQU50p.js";import{L as i}from"../Loading/Loading.Da43D_ay.js";import{C as o}from"../Card/Card.Brnj5rYh.js";import{_ as a,F as r}from"../../assets/index-Ba86HNo9.js";import{z as n,q as c,v as u,H as p,J as d,G as g,F as m,b as v,P as h,M as f}from"../@vue/@vue.CISUW6gm.js";import"../pinia/pinia.BbQN6uKc.js";import"../js-cookie/js-cookie.BXEMiIsG.js";import"../bootstrap/bootstrap.B479eVIA.js";import"../@popperjs/@popperjs.CDLgd9d9.js";import"../clipboard/clipboard.BDF08mEv.js";import"../vue3-lottie/vue3-lottie.CcJZhO04.js";import"../lottie-web/lottie-web.CrP6allm.js";const x={class:"bg_DiseaseRisk_color"},y={key:0},b={key:1,class:"alert d-flex flex-md-row justify-content-center align-items-center text-bold health-card",role:"alert",style:{"background-color":"#e3ffe2"}},w={key:2,class:"alert d-flex flex-md-row justify-content-center align-items-center text-bold health-card",role:"alert",style:{"background-color":"#fff8e4"}},k={key:3,class:"alert d-flex flex-md-row justify-content-center align-items-center text-bold health-card",role:"alert",style:{"background-color":"#ffecec"}},j={style:{"line-height":"18.75px","font-size":"15px"}},$=["innerHTML"],S={key:4,class:"description-txt"},_={key:5,class:"description-txt"},I={key:6,class:"description-txt"},L={key:7,class:"description-txt"},C={key:8,class:"d-grid",style:{"margin-top":"20px"}},M={key:9,style:{"margin-top":"20px"}},H=a({__name:"Results",setup(a){const H=l(),B=v(!1),R=v(!1),D=v(""),E=v(""),F=v(""),N=v(null),T=v(null);function O(t){R.value=t}n(()=>{setTimeout(()=>{const t=sessionStorage.getItem("RiskParams");t?(T.value=JSON.parse(t),E.value=(()=>{const t=new Date;return`${t.getFullYear()}-${(t.getMonth()+1).toString().padStart(2,"0")}-${t.getDate().toString().padStart(2,"0")} ${t.getHours().toString().padStart(2,"0")}:${t.getMinutes().toString().padStart(2,"0")}`})(),function(){const t=T.value;let e=0,s=[];const l=t.height/100,i=t.weight/(l*l),o=i.toFixed(1);i>=27?(e+=3,s.push(`您的 BMI 為 <b>${o}</b>，屬於肥胖範圍，建議減重。`)):i>=24?(e+=1,s.push(`您的 BMI 為 <b>${o}</b>，屬於過重範圍，需注意飲食控制。`)):s.push(`您的 BMI 為 <b>${o}</b>，體位維持良好。`);(1===t.sex&&t.waist>=90||2===t.sex&&t.waist>=80)&&(e+=2,s.push(`腰圍超標（${t.waist}cm），腹部肥胖是代謝症候群的重要指標。`));t.systolicBp>=140?(e+=3,s.push(`收縮壓偏高（${t.systolicBp} mmHg），建議每日測量並諮詢醫師。`)):t.systolicBp>=130&&(e+=1,s.push(`收縮壓稍微偏高（${t.systolicBp} mmHg），請注意鹽分攝取。`));t.glucose>0&&(t.glucose>=126?(e+=5,s.push(`飯前血糖（${t.glucose} mg/dL）已達糖尿病診斷標準範圍，請務必就醫。`)):t.glucose>=100&&(e+=2,s.push(`飯前血糖（${t.glucose} mg/dL）偏高，屬於糖尿病前期。`)));t.familyHistory&&(e+=2,s.push("您有糖尿病家族史，遺傳風險較一般人高。"));t.smoker&&(e+=2,s.push("抽菸會大幅增加心血管疾病與糖尿病併發症風險，建議戒菸。"));t.age>=65?e+=2:t.age>=45&&(e+=1);N.value=e<=2?1:e<=5?2:3;let a=`<p>根據您的填寫資料，綜合評估分數為：${e} 分。</p>`;a+='<ul style="text-align: left; padding-left: 20px;">',s.forEach(t=>{a+=`<li style="margin-bottom: 5px;">${t}</li>`}),a+="</ul>",F.value=a}(),B.value=!0):(B.value=!0,D.value="查無檢測資料，請重新填寫",R.value=!0,setTimeout(()=>{H.push({name:"RiskQuestionnaire"})},2e3))},800)});const z=()=>{H.push({name:"RiskQuestionnaire"})},J=()=>{window.location.href="/OpdRegister/ReserveDivision"};return(l,a)=>(c(),u(m,null,[p(i,{IsShow:B.value},null,8,["IsShow"]),p(r,{ref:"Failedref",IsShow:R.value,Content:D.value,onClose:O},null,8,["IsShow","Content"]),d("div",x,[p(o,null,{title:g(()=>[h(f(l.$route.meta.title),1)]),EvaluateDatetime:g(()=>[h(f(E.value),1)]),default:g(()=>[null==N.value?(c(),u("div",y)):1==N.value?(c(),u("div",b,[...a[0]||(a[0]=[d("img",{src:t,alt:"低風險",class:"img_Low",style:{width:"36px",height:"36px","margin-right":"20px"}},null,-1),h("糖尿病低風險 ",-1)])])):2==N.value?(c(),u("div",w,[...a[1]||(a[1]=[d("img",{src:e,alt:"中風險",class:"img_Middle",style:{width:"36px",height:"36px","margin-right":"20px"}},null,-1),h(" 糖尿病中風險 ",-1)])])):(c(),u("div",k,[...a[2]||(a[2]=[d("img",{src:s,alt:"高風險",class:"img_High",style:{width:"36px",height:"36px","margin-right":"20px"}},null,-1),h("糖尿病高風險 ",-1)])])),d("div",j,[d("div",{innerHTML:F.value},null,8,$)]),null==N.value?(c(),u("div",S)):1==N.value?(c(),u("div",_,[...a[3]||(a[3]=[d("div",{style:{color:"#008cd6","font-weight":"600"}}," 想知道如何透過飲食調整、運動規劃來強化體能與健康嗎？ ",-1),d("div",null,"可於LINE@對話框諮詢健康特務。",-1)])])):2==N.value?(c(),u("div",I,[...a[4]||(a[4]=[d("div",{style:{color:"#008cd6","font-weight":"600"}},"想要了解更多健康相關資訊",-1),d("div",null,"您可以點選門診掛號，若想要了解更多健康相關資訊，可於LINE@對話框諮詢健康特務。",-1)])])):(c(),u("div",L,[...a[5]||(a[5]=[d("div",{style:{color:"#008cd6","font-weight":"600"}},"想要了解更多健康相關資訊",-1),d("div",null,"您可以點選門診掛號，若想要了解更多健康相關資訊，可於LINE@對話框諮詢健康特務。",-1)])])),1==N.value?(c(),u("div",C,[d("div",{class:"row px-2"},[d("button",{type:"button",class:"col-12 btn-sm btn btn-primary",onClick:z}," 再測一次 ")])])):(c(),u("div",M,[d("div",{class:"row px-2"},[d("div",{class:"col-6 col-sm-6 px-1"},[d("button",{type:"button",class:"col-12 btn btn-green",onClick:J}," 門診掛號 ")]),d("div",{class:"col-6 col-sm-6 px-1"},[d("button",{type:"button",class:"col-12 btn btn-spy",onClick:z}," 再測一次 ")])])]))]),_:1})])],64))}},[["__scopeId","data-v-c62300c3"]]);export{H as default};
