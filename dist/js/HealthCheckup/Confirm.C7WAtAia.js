import{q as e,D as l,G as a,N as s,J as o,M as t,O as i,T as d,E as n,v as r,V as c,X as u,u as m,Y as p,F as v,S as b,Z as h,_ as f,P as y,W as C,Q as g,H as A,c as P,b as k}from"../@vue/@vue.CISUW6gm.js";import{u as R}from"../vue-router/vue-router.DzNGWVxd.js";import{g as x,h as j,S as w}from"../user/user.C5zGgpVk.js";import{_ as V,F as U}from"../../assets/index-BGBnUB5j.js";import{L as T}from"../Loading/Loading.Kc0FP4fC.js";import"../request/request.Jk5zdvv2.js";import"../axios/axios.CmLmLvTV.js";import"../crypto-js/crypto-js.7wHo0WA-.js";import"../clipboard/clipboard.BDF08mEv.js";import"../EncryptStorage/EncryptStorage.CPcoWq5g.js";import"../encrypt-storage/encrypt-storage.Bu0T6VU1.js";import"../pinia/pinia.BbQN6uKc.js";import"../js-cookie/js-cookie.BXEMiIsG.js";import"../bootstrap/bootstrap.B479eVIA.js";import"../@popperjs/@popperjs.CDLgd9d9.js";import"../vue3-lottie/vue3-lottie.CcJZhO04.js";import"../lottie-web/lottie-web.CrP6allm.js";const I=["臺北市","基隆市","連江縣","宜蘭縣","新竹市","新竹縣","桃園市","苗栗縣","臺中市","彰化縣","南投縣","嘉義市","嘉義縣","雲林縣","臺南市","高雄市","澎湖縣","金門縣","屏東縣","臺東縣","花蓮縣"],G=V({__name:"Alert",props:{IsShow:{type:Boolean,default:!1},Title:{type:String,default:""}},setup:n=>(r,c)=>(e(),l(d,{name:"fade"},{default:a(()=>[s(o("div",{class:"alert alert-secondary",role:"alert"},t(n.Title),513),[[i,n.IsShow]])]),_:1}))},[["__scopeId","data-v-80336fcf"]]),N={class:"card card-lg card-shadow form_card"},S={key:0,class:"px-3 pt-3"},O={class:"d-grid gap-4 p-3"},_={class:"col-sm-6 mb-4 mb-sm-2"},E={class:"col-sm-6 mb-4 mb-sm-2"},L={class:"d-grid mb-4 mb-sm-2"},q={class:"row"},M={class:"col-6 col-lg-2 mb-2"},B=["disabled"],D={selected:"請選擇"},F=["value"],H={class:"col-6 col-lg-2 mb-2"},J=["disabled"],K={selected:"請選擇"},Q=["value"],W={class:"col-12 col-lg-8"},X=["disabled"],Y={class:"d-grid mb-4 mb-sm-2"},Z={class:"form-check mb-2"},z=["disabled"],$={class:"row"},ee={class:"col-6 col-lg-2 mb-2"},le=["disabled"],ae={selected:""},se=["value"],oe={class:"col-6 col-lg-2 mb-2"},te=["disabled"],ie={selected:""},de=["value"],ne={class:"col-12 col-lg-8"},re=["disabled"],ce={class:"d-grid mb-4 mb-sm-2"},ue={class:"form-check form-check-inline"},me=["disabled"],pe={class:"form-check form-check-inline"},ve=["disabled"],be={class:"form-check form-check-inline"},he=["disabled"],fe={class:"row"},ye={class:"col-12 col-lg-6 mb-2"},Ce=["disabled"],ge={class:"col-12 col-lg-6 mb-2"},Ae=["disabled"],Pe={key:0,class:"d-grid mb-4 mb-sm-2"},ke={class:"form-check form-check-inline"},Re=["disabled"],xe={class:"form-check form-check-inline"},je=["disabled"],we={class:"form-check form-check-inline"},Ve=["disabled"],Ue={class:"row"},Te={class:"col-6 col-lg-2 mb-2"},Ie=["disabled"],Ge={selected:"請選擇"},Ne=["value"],Se={class:"col-6 col-lg-2 mb-2"},Oe=["disabled"],_e={selected:"請選擇"},Ee=["value"],Le={class:"col-12 col-lg-8"},qe=["disabled"],Me={class:"sticky-bottom bg-white d-flex justify-content-center align-items-center",style:{"box-shadow":"0px -3px 3px #eeeeee"}},Be={__name:"Confirm",props:{ExamCode:{type:String,default:""}},setup(d){const V=k(!0),Be=k(!1),De=k(!1),Fe=R();let He=k({});const Je=k(""),Ke=k(null),Qe=P(()=>1!=Fe.query.Status),We=()=>{let e={ExamCode:Fe.query.ExamCode};x(e).then(e=>{const{code:l,data:a}=e;0===l&&(He.value={ExamCode:Fe.query.ExamCode,Name:a.Name,IdNo:a.IdNo,Phone:a.Phone,BirthDate:a.BirthDate,ResidentCity:a.ResidentCity,ResidentArea:a.ResidentArea,ResidentAddress:a.ResidentAddress,CommunicationCity:a.CommunicationCity,CommunicationArea:a.CommunicationArea,CommunicationAddress:a.CommunicationAddress,ReportGetType:a.ReportGetType,PostalCity:a.PostalCity,PostalArea:a.PostalArea,PostalAddress:a.PostalAddress,PostalOptions:a.PostalOptions,AgentName:a.AgentName,AgentPhone:a.AgentPhone,Version:a.Version})})};We();let Xe=k("");const Ye=k([]);let Ze={};function ze(e){Xe.value=e.target.value,"ResidentCity"==e.target.id?He.value.ResidentArea="":"CommunicationCity"==e.target.id&&(He.value.CommunicationArea=""),j(Ze).then(e=>{const{code:l,data:a}=e;if(0==l){return Ye.value=[],a.List.filter((e,l)=>Xe.value==e.City&&(Ye.value.push(e.Area),!0))}})}const $e=e=>{1==e.target.value?(He.value.PostalOptions=1,He.value.PostalCity=He.value.ResidentCity,He.value.PostalArea=He.value.ResidentArea,He.value.PostalAddress=He.value.ResidentAddress):2==e.target.value?(He.value.PostalOptions=2,He.value.PostalCity=He.value.CommunicationCity,He.value.PostalArea=He.value.CommunicationArea,He.value.PostalAddress=He.value.CommunicationAddress):3==e.target.value&&(He.value.PostalOptions=3,He.value.PostalCity="",He.value.PostalArea="",He.value.PostalAddress="")},el=e=>{1==e.target.value?He.value.ReportGetType=1:2==e.target.value?He.value.ReportGetType=2:3==e.target.value&&(He.value.ReportGetType=3)},ll=k(!1),al=()=>{ll.value&&(He.value.CommunicationCity=He.value.ResidentCity,He.value.CommunicationArea=He.value.ResidentArea,He.value.CommunicationAddress=He.value.ResidentAddress)};function sl(e){De.value=e}const ol=()=>{const e=He.value;console.log(e),w(e).then(e=>{const{code:l,message:a}=e;0==l?(V.value=!1,We(),Be.value=!0,setTimeout(()=>{Be.value=!1},1e3)):(De.value=!0,Je.value=a)}).finally(()=>{V.value=!0})};return(d,P)=>{const k=n("router-link");return e(),r(v,null,[o("div",N,[Qe.value?(e(),r("div",S,[...P[21]||(P[21]=[o("div",{class:"alert alert-soft-success d-flex flex-column align-items-center",role:"alert"},[o("div",{style:{"font-weight":"900"}},"您已報到成功!"),o("div",{style:{"font-weight":"900"}},"若要修改資料，請洽尊爵健檢服務人員!")],-1)])])):c("",!0),P[37]||(P[37]=o("div",{class:"card-header pt-4 pb-0 ps-3"},[o("h1",{class:"card-title h3 text-dark mb-0"},"行前資料確認")],-1)),o("div",O,[o("form",{class:"row form_row",onChange:P[20]||(P[20]=(...e)=>d.formChange&&d.formChange(...e))},[o("div",_,[P[22]||(P[22]=o("label",{class:"form-label",for:"IdNo"},"身分證/居留證/護照號碼",-1)),s(o("input",{type:"text",class:"form-control",name:"IdNo",id:"IdNo","aria-label":"Id",disabled:"","onUpdate:modelValue":P[0]||(P[0]=e=>m(He).IdNo=e)},null,512),[[u,m(He).IdNo]])]),o("div",E,[P[23]||(P[23]=o("label",{class:"form-label",for:"Phone"},"連絡電話",-1)),s(o("input",{type:"text",class:"form-control",name:"Phone",id:"Phone","aria-label":"Phone",placeholder:"(外縣市請加上區域碼，如：02-12345678)",disabled:"","onUpdate:modelValue":P[1]||(P[1]=e=>m(He).Phone=e)},null,512),[[u,m(He).Phone]])]),o("div",L,[P[24]||(P[24]=o("label",{class:"form-label",for:"ResidenceAddress"},"戶籍地址",-1)),o("div",q,[o("div",M,[s(o("select",{class:"form-select",disabled:Qe.value,onChange:ze,id:"ResidentCity","onUpdate:modelValue":P[2]||(P[2]=e=>m(He).ResidentCity=e)},[o("option",D,t(m(He).ResidentCity),1),(e(!0),r(v,null,b(m(I),l=>(e(),r("option",{key:l,value:l},t(l),9,F))),128))],40,B),[[p,m(He).ResidentCity]])]),o("div",H,[s(o("select",{class:"form-select",disabled:Qe.value,"onUpdate:modelValue":P[3]||(P[3]=e=>m(He).ResidentArea=e)},[o("option",K,t(m(He).ResidentArea),1),(e(!0),r(v,null,b(Ye.value,l=>(e(),r("option",{key:l,value:l},t(l),9,Q))),128))],8,J),[[p,m(He).ResidentArea]])]),o("div",W,[s(o("input",{type:"text",class:"form-control",name:"Phone",id:"Phone","aria-label":"Last name",disabled:Qe.value,"onUpdate:modelValue":P[4]||(P[4]=e=>m(He).ResidentAddress=e)},null,8,X),[[u,m(He).ResidentAddress]])])])]),o("div",Y,[P[26]||(P[26]=o("label",{class:"form-label",for:"ResidentAddress"},"通訊地址",-1)),o("div",Z,[s(o("input",{class:"form-check-input",type:"checkbox",id:"flexCheckChecked","onUpdate:modelValue":P[5]||(P[5]=e=>ll.value=e),disabled:Qe.value,onChange:al},null,40,z),[[h,ll.value]]),P[25]||(P[25]=o("label",{class:"form-check-label",for:"flexCheckChecked"}," 同戶籍地址 ",-1))]),o("div",$,[o("div",ee,[s(o("select",{class:"form-select",disabled:Qe.value,onChange:ze,id:"CommunicationCity","onUpdate:modelValue":P[6]||(P[6]=e=>m(He).CommunicationCity=e)},[o("option",ae,t(m(He).CommunicationCity),1),(e(!0),r(v,null,b(m(I),l=>(e(),r("option",{key:l,value:l},t(l),9,se))),128))],40,le),[[p,m(He).CommunicationCity]])]),o("div",oe,[s(o("select",{class:"form-select",disabled:Qe.value,"onUpdate:modelValue":P[7]||(P[7]=e=>m(He).CommunicationArea=e)},[o("option",ie,t(m(He).CommunicationArea),1),(e(!0),r(v,null,b(Ye.value,l=>(e(),r("option",{key:l,value:l},t(l),9,de))),128))],8,te),[[p,m(He).CommunicationArea]])]),o("div",ne,[s(o("input",{type:"text",class:"form-control",name:"Phone",id:"Phone","aria-label":"Last name",disabled:Qe.value,"onUpdate:modelValue":P[8]||(P[8]=e=>m(He).CommunicationAddress=e)},null,8,re),[[u,m(He).CommunicationAddress]])])])]),o("div",ce,[P[32]||(P[32]=o("label",{class:"form-label",for:"ReportGetType"},"報告領取方式",-1)),o("div",null,[o("div",ue,[s(o("input",{class:"form-check-input",type:"radio",name:"collectionMethod",id:"self",onChange:el,"onUpdate:modelValue":P[9]||(P[9]=e=>m(He).ReportGetType=e),value:"1",disabled:Qe.value},null,40,me),[[f,m(He).ReportGetType]]),P[27]||(P[27]=o("label",{class:"form-check-label",for:"self"},"自取",-1))]),o("div",pe,[s(o("input",{class:"form-check-input",type:"radio",name:"collectionMethod",id:"send",onChange:el,"onUpdate:modelValue":P[10]||(P[10]=e=>m(He).ReportGetType=e),value:"2",checked:"",disabled:Qe.value},null,40,ve),[[f,m(He).ReportGetType]]),P[28]||(P[28]=o("label",{class:"form-check-label",for:"send"},"郵寄",-1))]),o("div",be,[s(o("input",{class:"form-check-input",type:"radio",name:"collectionMethod",onChange:el,"onUpdate:modelValue":P[11]||(P[11]=e=>m(He).ReportGetType=e),id:"entrust",value:"3",disabled:Qe.value},null,40,he),[[f,m(He).ReportGetType]]),P[29]||(P[29]=o("label",{class:"form-check-label",for:"entrust"},"委託領取",-1))])]),s(o("div",fe,[o("div",ye,[P[30]||(P[30]=o("label",{class:"form-label",for:"AgentName"},"受託者姓名",-1)),s(o("input",{type:"text",class:"form-control",id:"AgentName","aria-label":"受託者姓名","onUpdate:modelValue":P[12]||(P[12]=e=>m(He).AgentName=e),disabled:Qe.value},null,8,Ce),[[u,m(He).AgentName]])]),o("div",ge,[P[31]||(P[31]=o("label",{class:"form-label",for:"AgentPhone"},"受託者電話",-1)),s(o("input",{type:"text",class:"form-control",name:"Phone",id:"AgentPhone","aria-label":"Phone",placeholder:"(外縣市請加上區域碼，如：02-12345678)","onUpdate:modelValue":P[13]||(P[13]=e=>m(He).AgentPhone=e),disabled:Qe.value},null,8,Ae),[[u,m(He).AgentPhone]])])],512),[[i,3==m(He).ReportGetType]])]),2==m(He).ReportGetType?(e(),r("div",Pe,[P[36]||(P[36]=o("label",{class:"form-label",for:"mailingAddress"},"郵寄地址",-1)),o("div",null,[o("div",ke,[s(o("input",{class:"form-check-input",type:"radio",name:"mailResidentCity",id:"residenceAddress",value:"1",disabled:Qe.value,"onUpdate:modelValue":P[14]||(P[14]=e=>m(He).PostalOptions=e),onChange:$e},null,40,Re),[[f,m(He).PostalOptions]]),P[33]||(P[33]=o("label",{class:"form-check-label",for:"residenceAddress"},"同戶籍地址",-1))]),o("div",xe,[s(o("input",{class:"form-check-input",type:"radio",name:"mailCommunicationCity",id:"mailingAddress",value:"2",checked:"",disabled:Qe.value,"onUpdate:modelValue":P[15]||(P[15]=e=>m(He).PostalOptions=e),onChange:$e},null,40,je),[[f,m(He).PostalOptions]]),P[34]||(P[34]=o("label",{class:"form-check-label",for:"mailingAddress"},"同通訊地址",-1))]),o("div",we,[s(o("input",{class:"form-check-input",type:"radio",name:"mailOther",id:"otherAddress",value:"3",disabled:Qe.value,"onUpdate:modelValue":P[16]||(P[16]=e=>m(He).PostalOptions=e),onChange:$e},null,40,Ve),[[f,m(He).PostalOptions]]),P[35]||(P[35]=o("label",{class:"form-check-label",for:"otherAddress"},"另填",-1))])]),s(o("div",Ue,[o("div",Te,[s(o("select",{class:"form-select",disabled:Qe.value,onChange:ze,"onUpdate:modelValue":P[17]||(P[17]=e=>m(He).PostalCity=e)},[o("option",Ge,t(m(He).PostalCity),1),(e(!0),r(v,null,b(m(I),l=>(e(),r("option",{key:l,value:l},t(l),9,Ne))),128))],40,Ie),[[p,m(He).PostalCity]])]),o("div",Se,[s(o("select",{class:"form-select",disabled:Qe.value,"onUpdate:modelValue":P[18]||(P[18]=e=>m(He).PostalArea=e)},[o("option",_e,t(m(He).PostalArea),1),(e(!0),r(v,null,b(Ye.value,l=>(e(),r("option",{key:l,value:l},t(l),9,Ee))),128))],8,Oe),[[p,m(He).PostalArea]])]),o("div",Le,[s(o("input",{type:"text",class:"form-control",name:"Phone",id:"Phone","onUpdate:modelValue":P[19]||(P[19]=e=>m(He).PostalAddress=e),"aria-label":"Last name",disabled:Qe.value},null,8,qe),[[u,m(He).PostalAddress]])])],512),[[i,"3"==m(He).PostalOptions]])])):c("",!0)],32)])]),(e(),l(g,{to:"body"},[o("div",Me,[Qe.value?(e(),l(k,{key:0,class:"col-10 col-sm-4 btn-sm btn btn-primary",style:{width:"300px"},to:{name:"schedule"}},{default:a(()=>[...P[38]||(P[38]=[y(" 返回 ",-1)])]),_:1})):(e(),r("button",{key:1,type:"button",class:"col-10 col-sm-4 btn-sm btn btn-primary",style:{width:"300px"},onClick:C(ol,["prevent"])}," 確認 "))])])),A(T,{IsShow:V.value},null,8,["IsShow"]),A(G,{IsShow:Be.value,Title:"送出成功"},null,8,["IsShow"]),A(U,{ref_key:"Failedref",ref:Ke,IsShow:De.value,Content:Je.value,onClose:sl},null,8,["IsShow","Content"])],64)}}};export{Be as default};
